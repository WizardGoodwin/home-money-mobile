<ion-header>
  <ion-toolbar>
    <ion-title>Sign up</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content padding>
  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <ion-grid>
      <!--start of e-mail field-->
      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
          <ion-item>
            <ion-label position="floating">E-Mail</ion-label>
            <ion-input
              type="email"
              formControlName="email"
            ></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row
        *ngIf="!form.get('email').valid && form.get('email').touched"
      >
        <ion-col size-sm="6" offset-sm="3">
          <p *ngIf="form.get('email')['errors']['required']">
            E-mail field must not be empty.
          </p>
          <p *ngIf="form.get('email')['errors']['email']">
            Enter correct e-mail.
          </p>
        </ion-col>
      </ion-row>
      <!--end of e-mail field-->
      <!--start of password field-->
      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
          <ion-item>
            <ion-label position="floating">Password</ion-label>
            <ion-input
              type="password"
              formControlName="password"
            ></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row
        *ngIf="form.get('password').invalid && form.get('password').touched"
      >
        <ion-col size-sm="6" offset-sm="3">
          <p *ngIf="form.get('password')['errors']['required']">
            Password field must not be empty.
          </p>
          <p *ngIf="form.get('password')['errors']['minlength'] &&
          form.get('password')['errors']['minlength']['requiredLength']">
            Password must be more than
            {{form.get('password')['errors']['minlength']['requiredLength'] - 1}} symbols.
            There are {{form.get('password')['errors']['minlength']['actualLength']}} symbols now.
          </p>
        </ion-col>
      </ion-row>
      <!--end of password field-->
      <!--start of name field-->
      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
          <ion-item>
            <ion-label position="floating">Name</ion-label>
            <ion-input
              type="text"
              formControlName="name"
            ></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row
        *ngIf="form.get('name').invalid && form.get('name').touched"
      >
        <ion-col size-sm="6" offset-sm="3">
          <p>Name field must not be empty.</p>
        </ion-col>
      </ion-row>
      <!--end of name field-->
      <!--start of checkbox field-->
      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
          <ion-item>
            <ion-label>I agree with terms</ion-label>
            <ion-checkbox
              slot="start"
              formControlName="agree"
            ></ion-checkbox>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row
        *ngIf="form.get('name').invalid && form.get('name').touched"
      >
        <ion-col size-sm="6" offset-sm="3">
          <p>Name field must not be empty.</p>
        </ion-col>
      </ion-row>
      <!--end of checkbox field-->
      <ion-row>
        <ion-col size-sm="6" offset-sm="3">
          <ion-button
            margin-top
            type="submit"
            color="primary"
            expand="block"
            [disabled]="!form.valid"
          >
            Sign up
          </ion-button>
        </ion-col>
      </ion-row>
      <ion-row align-items-center>
        <ion-col size="6">
          <ion-label>
            <p>Already have an account?</p>
          </ion-label>
        </ion-col>
        <ion-col size="6">
          <ion-button
            type="button"
            color="primary"
            fill="clear"
            [routerLink]="'/auth/login'"
          >
            Login!
          </ion-button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </form>
</ion-content>
